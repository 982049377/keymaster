//     keymaster.js
//     (c) 2011 Thomas Fuchs
//     keymaster.js may be freely distributed under the MIT license.
(function(a){function g(a){c=a||"all"}function f(a,c,e){var f;e===undefined&&(e=c,c="all"),a=a.replace(/\s/g,""),f=a.split(","),f.forEach(function(a){a=a.length>1?d[a]:a.toUpperCase().charCodeAt(0),a in b||(b[a]=[]),b[a].push({scope:c,method:e})})}function e(a){var d,e;e=a.srcElement.tagName;if(e!="INPUT"&&e!="SELECT"&&e!="TEXTAREA"){d=a.keyCode.toString();if(!(d in b))return;b[d].forEach(function(b){(b.scope==c||b.scope=="all")&&b.method(a,b.key,b.scope)})}}var b={},c="all",d={backspace:8,tab:9,enter:13,"return":13,escape:27,space:32,left:37,up:38,right:39,down:40};document.body.addEventListener("keydown",e),a.key=f,a.keyScope=g})(this)